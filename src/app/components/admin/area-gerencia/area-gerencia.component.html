<div class="flex justify-content-center align-content-center mt-4">
  <p-button
    (onClick)="criarVisible = true"
    label="Adicionar gerente"
  ></p-button>
</div>

<div class="flex">
  <div class="mt-6 h-full w-12 flex justify-content-center">
    <p-table [tableStyle]="{ 'min-width': '50rem' }" [value]="gerentes">
      <ng-template pTemplate="header">
        <tr>
          <th>Nome</th>
          <th>CPF</th>
          <th>Email</th>
          <th>Telefone</th>
          <th></th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-gerente>
        <tr>
          <td>{{ gerente.nome }}</td>
          <td>{{ gerente.cpf }}</td>
          <td>{{ gerente.email }}</td>
          <td>{{ gerente.telefone }}</td>
          <td>
            <p-button
              icon="pi pi-trash"
              (onClick)="deletarGerente(gerente.id)"
            ></p-button>
          </td>
          <td>
            <p-button icon="pi pi-pencil"></p-button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>

<p-dialog
  header="Criar gerente"
  [modal]="true"
  [(visible)]="criarVisible"
  [style]="{ width: '25rem' }"
>
  <div class="flex align-items-center gap-3 mb-3">
    <label for="username" class="font-semibold w-6rem">Nome</label>
    <input
      [(ngModel)]="criarOuEditarGerente.nome"
      pInputText
      id="username"
      class="flex-auto"
      autocomplete="off"
    />
  </div>
  <div class="flex align-items-center gap-3 mb-5">
    <label for="email" class="font-semibold w-6rem">Email</label>
    <input
      [(ngModel)]="criarOuEditarGerente.email"
      pInputText
      id="email"
      class="flex-auto"
      autocomplete="off"
    />
  </div>
  <div class="flex align-items-center gap-3 mb-5">
    <label for="email" class="font-semibold w-6rem">CPF</label>
    <p-inputMask
      [(ngModel)]="criarOuEditarGerente.cpf"
      type="text"
      mask="999.999.999-99"
      id="telefone"
      data-validation-required-message="Por favor, digite seu telefone"
    />
  </div>
  <div class="flex align-items-center gap-3 mb-5">
    <label for="email" class="font-semibold w-6rem">Telefone</label>
    <p-inputMask
      [(ngModel)]="criarOuEditarGerente.telefone"
      type="text"
      mask="(99) 99999-9999"
      id="telefone"
      data-validation-required-message="Por favor, digite seu telefone"
    />
  </div>
  <div class="flex align-items-center gap-3 mb-5">
    <label for="email" class="font-semibold w-6rem">Cargo</label>
    <p-dropdown
      [(ngModel)]="criarOuEditarGerente.cargo"
      [options]="cargos"
      optionLabel="name"
      optionValue="name"
      placeholder="Selecione um cargo"
    />
  </div>
  <div class="flex justify-content-end gap-2">
    <p-button
      label="Cancelar"
      severity="secondary"
      (onClick)="criarVisible = false"
    />
    <p-button
      label="Cadastrar"
      (onClick)="criarVisible = false; cadastrarGerente()"
    />
  </div>
</p-dialog>
